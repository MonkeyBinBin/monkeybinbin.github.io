import{_ as M}from"./CqZIkRAZ.js";import{A as S}from"./DwF3PoRq.js";import{u as C,a as D}from"./dUEpvJ1M.js";import{c as j}from"./C90nouMY.js";import{_ as O,r as R,e as T,f as l,c as r,o as e,a as n,g as $,h as u,F as k,i as x,j as _,w as h,t as m,u as w,b as G,d as f}from"./C_z-Ygbh.js";import"./BcsVgARc.js";const I={class:"tech-section"},q={class:"tech-grid"},z={class:"tech-card"},H={key:0,class:"pagination-nav","aria-label":"文章分頁導覽"},J={class:"pagination-wrapper"},K={class:"pagination-numbers"},Q={key:1,class:"pagination-ellipsis"},U={key:2,class:"pagination-ellipsis"},W={class:"pagination-info"},d=1,v=2,X={__name:"index",async setup(Y){let p,g;const P=R(null),b=j.articleListMaxLimit,{data:o,error:y}=([p,g]=T(()=>C("posts-page-1",()=>D().getArticles(b,0))),p=await p,g(),p),t=l(()=>!o.value||!o.value.total?1:Math.ceil(o.value.total/b)),A=l(()=>{const s=[],i=Math.max(2,d-v),c=Math.min(t.value-1,d+v);for(let a=i;a<=c;a++)a!==1&&a!==t.value&&s.push(a);return s}),V=l(()=>t.value<=5),E=l(()=>d<t.value-v||t.value<=5),L=l(()=>d>v+2),N=l(()=>d<t.value-v-1),B=l(()=>!o.value||!o.value.items?[]:o.value.items.filter(s=>s&&typeof s=="object"&&s.id&&typeof s.id=="string"&&s.id.trim()&&s.title));if(y.value)throw new Error(y.value);return(s,i)=>{const c=M;return e(),r("section",I,[n("div",{ref_key:"container",ref:P,class:"tech-container"},[i[2]||(i[2]=$('<div class="tech-header" data-v-1ba212a5><h1 class="tech-title" data-v-1ba212a5><span class="tech-accent" data-v-1ba212a5>Blog</span> Articles</h1><div class="tech-divider" data-v-1ba212a5></div><p class="tech-subtitle" data-v-1ba212a5>探索程式設計與技術領域的精選文章與心得分享</p></div>',1)),n("div",q,[(e(!0),r(k,null,x(B.value,(a,F)=>(e(),r("div",{key:a.id||F,class:"tech-card-wrapper"},[n("div",z,[G(w(S),{post:a},null,8,["post"])])]))),128))]),t.value>1?(e(),r("nav",H,[n("div",J,[n("div",K,[V.value?(e(),_(c,{key:0,to:"/",class:"pagination-number active"},{default:h(()=>i[0]||(i[0]=[f(" 1 ")])),_:1,__:[0]})):u("",!0),L.value?(e(),r("span",Q,"...")):u("",!0),(e(!0),r(k,null,x(A.value,a=>(e(),_(c,{key:a,to:a===1?"/":`/page/${a}`,class:"pagination-number"},{default:h(()=>[f(m(a),1)]),_:2},1032,["to"]))),128)),N.value?(e(),r("span",U,"...")):u("",!0),E.value?(e(),_(c,{key:3,to:`/page/${t.value}`,class:"pagination-number"},{default:h(()=>[f(m(t.value),1)]),_:1},8,["to"])):u("",!0)]),t.value>1?(e(),_(c,{key:0,to:"/page/2",class:"pagination-link pagination-next","aria-label":"下一頁"},{default:h(()=>i[1]||(i[1]=[n("span",null,"下一頁",-1),n("i",{class:"fas fa-chevron-right"},null,-1)])),_:1,__:[1]})):u("",!0)]),n("div",W," 第 1 頁，共 "+m(t.value)+" 頁（總計 "+m(w(o).total)+" 篇文章） ",1)])):u("",!0)],512)])}}},na=O(X,[["__scopeId","data-v-1ba212a5"]]);export{na as default};
