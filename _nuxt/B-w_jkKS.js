import{_ as M}from"./DzWROu1D.js";import{A as S}from"./BXqieC8m.js";import{u as C,a as D}from"./BPTo4OvJ.js";import{c as j}from"./C90nouMY.js";import{_ as O,r as R,e as T,f as l,c as r,o as a,a as n,g as $,h as u,F as x,i as w,j as _,w as h,t as m,u as b,b as G,d as f}from"./CcZLqpYO.js";import"./BcsVgARc.js";const I={class:"tech-section"},q={class:"tech-grid"},z={class:"tech-card"},H={key:0,class:"pagination-nav","aria-label":"文章分頁導覽"},J={class:"pagination-wrapper"},K={class:"pagination-numbers"},Q={key:1,class:"pagination-ellipsis"},U={key:2,class:"pagination-ellipsis"},W={class:"pagination-info"},d=1,v=2,X={__name:"index",async setup(Y){let p,g;const P=R(null),y=j.articleListMaxLimit,{data:o,error:k}=([p,g]=T(()=>C("posts-page-1",()=>D().getArticles(y,0))),p=await p,g(),p),e=l(()=>!o.value||!o.value.total?1:Math.ceil(o.value.total/y)),A=l(()=>{const s=[],i=Math.max(2,d-v),c=Math.min(e.value-1,d+v);for(let t=i;t<=c;t++)t!==1&&t!==e.value&&s.push(t);return s}),V=l(()=>e.value<=5),E=l(()=>d<e.value-v||e.value<=5),L=l(()=>d>v+2),N=l(()=>d<e.value-v-1),B=l(()=>!o.value||!o.value.items?[]:o.value.items.filter(s=>s&&typeof s=="object"&&s.id&&typeof s.id=="string"&&s.id.trim()&&s.title));if(k.value)throw new Error(k.value);return(s,i)=>{const c=M;return a(),r("section",I,[n("div",{ref_key:"container",ref:P,class:"tech-container"},[i[2]||(i[2]=$('<div class="tech-header" data-v-74744e23><h1 class="tech-title" data-v-74744e23><span class="tech-accent" data-v-74744e23>Blog</span> Articles </h1><div class="tech-divider" data-v-74744e23></div><p class="tech-subtitle" data-v-74744e23> 探索程式設計與技術領域的精選文章與心得分享 </p></div>',1)),n("div",q,[(a(!0),r(x,null,w(B.value,(t,F)=>(a(),r("div",{key:t.id||F,class:"tech-card-wrapper"},[n("div",z,[G(b(S),{post:t},null,8,["post"])])]))),128))]),e.value>1?(a(),r("nav",H,[n("div",J,[n("div",K,[V.value?(a(),_(c,{key:0,to:"/",class:"pagination-number active"},{default:h(()=>i[0]||(i[0]=[f(" 1 ")])),_:1,__:[0]})):u("",!0),L.value?(a(),r("span",Q,"...")):u("",!0),(a(!0),r(x,null,w(A.value,t=>(a(),_(c,{key:t,to:t===1?"/":`/page/${t}`,class:"pagination-number"},{default:h(()=>[f(m(t),1)]),_:2},1032,["to"]))),128)),N.value?(a(),r("span",U,"...")):u("",!0),E.value?(a(),_(c,{key:3,to:`/page/${e.value}`,class:"pagination-number"},{default:h(()=>[f(m(e.value),1)]),_:1},8,["to"])):u("",!0)]),e.value>1?(a(),_(c,{key:0,to:"/page/2",class:"pagination-link pagination-next","aria-label":"下一頁"},{default:h(()=>i[1]||(i[1]=[n("span",null,"下一頁",-1),n("i",{class:"fas fa-chevron-right"},null,-1)])),_:1,__:[1]})):u("",!0)]),n("div",W," 第 1 頁，共 "+m(e.value)+" 頁（總計 "+m(b(o).total)+" 篇文章） ",1)])):u("",!0)],512)])}}},nt=O(X,[["__scopeId","data-v-74744e23"]]);export{nt as default};
